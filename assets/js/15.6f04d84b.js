(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{409:function(t,s,a){"use strict";a.r(s);var n=a(31),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"jpa"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jpa"}},[t._v("#")]),t._v(" JPA:")]),t._v(" "),a("p",[t._v("â€‹\tæ˜¯hibernateçš„æŠ½è±¡æ˜¯ä»–çš„ä¸€ä¸ªå­é›†ï¼šï¼ˆjdbc---\x3emysqlï¼‰åŒ…æ‹¬æ˜ å°„å…ƒæ•°æ®ï¼š")]),t._v(" "),a("h3",{attrs:{id:"jpaå’Œhibernate"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jpaå’Œhibernate"}},[t._v("#")]),t._v(" JPAå’ŒHibernate")]),t._v(" "),a("p",[t._v("JPA æ˜¯ hibernate çš„ä¸€ä¸ªæŠ½è±¡ï¼ˆå°±åƒJDBCå’ŒJDBCé©±åŠ¨çš„å…³ç³»ï¼‰ï¼š")]),t._v(" "),a("ul",[a("li",[a("p",[a("strong",[t._v("JPA")]),t._v(" "),a("strong",[t._v("æ˜¯è§„èŒƒ")]),t._v("ï¼šJPA æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ç§  ORM è§„èŒƒï¼Œä¸æ˜¯ORM æ¡†æ¶ â€”â€” å› ä¸º JPA å¹¶æœªæä¾› ORM å®ç°ï¼Œå®ƒåªæ˜¯åˆ¶è®¢äº†ä¸€äº›è§„èŒƒï¼Œæä¾›äº†ä¸€äº›ç¼–ç¨‹çš„ API æ¥å£ï¼Œä½†å…·ä½“å®ç°åˆ™ç”± ORM å‚å•†æä¾›å®ç°")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("Hibernate")]),t._v(" "),a("strong",[t._v("æ˜¯å®ç°")]),t._v("ï¼šHibernate é™¤äº†ä½œä¸º ORM æ¡†æ¶ä¹‹å¤–ï¼Œå®ƒä¹Ÿæ˜¯ä¸€ç§ JPA å®ç°")])]),t._v(" "),a("li",[a("p",[t._v("ä»åŠŸèƒ½ä¸Šæ¥è¯´ï¼Œ "),a("strong",[t._v("JPA")]),t._v(" "),a("strong",[t._v("æ˜¯")]),t._v(" "),a("strong",[t._v("Hibernate")]),t._v(" åŠŸèƒ½çš„ä¸€ä¸ªå­é›†")])]),t._v(" "),a("li",[a("p",[t._v("JPA çš„ç›®æ ‡ä¹‹ä¸€æ˜¯"),a("strong",[t._v("åˆ¶å®šä¸€ä¸ªå¯ä»¥ç”±å¾ˆå¤šä¾›åº”å•†å®ç°çš„API")]),t._v("ï¼Œç›®å‰Hibernate3.2+ã€TopLink10.1+ä»¥åŠOpenJPAéƒ½æä¾›äº†JPA çš„å®ç°")])])]),t._v(" "),a("h4",{attrs:{id:"jpaä¼˜åŠ¿"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jpaä¼˜åŠ¿"}},[t._v("#")]),t._v(" JPAä¼˜åŠ¿")]),t._v(" "),a("ul",[a("li",[a("p",[a("strong",[t._v("æ ‡å‡†åŒ–")]),t._v(":  æä¾›ç›¸åŒçš„ APIï¼Œè¿™ä¿è¯äº†åŸºäºJPA å¼€å‘çš„ä¼ä¸šåº”ç”¨èƒ½å¤Ÿç»è¿‡å°‘é‡çš„ä¿®æ”¹å°±èƒ½å¤Ÿåœ¨ä¸åŒçš„ JPA æ¡†æ¶ä¸‹è¿è¡Œã€‚")])]),t._v(" "),a("li",[a("p",[t._v("ç®€å•æ˜“ç”¨ï¼Œé›†æˆæ–¹ä¾¿:  JPA çš„ä¸»è¦ç›®æ ‡ä¹‹ä¸€å°±æ˜¯æä¾›æ›´åŠ ç®€å•çš„ç¼–ç¨‹æ¨¡å‹ï¼Œåœ¨ JPA æ¡†æ¶ä¸‹åˆ›å»ºå®ä½“å’Œåˆ›å»º Java  ç±»ä¸€æ ·ç®€å•ï¼Œåªéœ€è¦ä½¿ç”¨ javax.persistence.Entity è¿›è¡Œæ³¨é‡Šï¼›JPA çš„æ¡†æ¶å’Œæ¥å£ä¹Ÿéƒ½éå¸¸ç®€å•ï¼Œ")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("å¯åª²ç¾JDBCçš„æŸ¥è¯¢èƒ½åŠ›")]),t._v(":  JPAçš„æŸ¥è¯¢è¯­è¨€æ˜¯é¢å‘å¯¹è±¡çš„ï¼ŒJPAå®šä¹‰äº†ç‹¬ç‰¹çš„"),a("strong",[t._v("JPQL")]),t._v("ï¼Œè€Œä¸”èƒ½å¤Ÿæ”¯æŒæ‰¹é‡æ›´æ–°å’Œä¿®æ”¹ã€JOINã€GROUP BYã€HAVING ç­‰é€šå¸¸åªæœ‰ SQL æ‰èƒ½å¤Ÿæä¾›çš„é«˜çº§æŸ¥è¯¢ç‰¹æ€§ï¼Œç”šè‡³è¿˜èƒ½å¤Ÿæ”¯æŒå­æŸ¥è¯¢ã€‚")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("æ”¯æŒé¢å‘å¯¹è±¡çš„é«˜çº§ç‰¹æ€§")]),t._v(": JPA ä¸­èƒ½å¤Ÿæ”¯æŒé¢å‘å¯¹è±¡çš„é«˜çº§ç‰¹æ€§ï¼Œå¦‚ç±»ä¹‹é—´çš„ç»§æ‰¿ã€å¤šæ€å’Œç±»ä¹‹é—´çš„å¤æ‚å…³ç³»ï¼Œæœ€å¤§é™åº¦çš„ä½¿ç”¨é¢å‘å¯¹è±¡çš„æ¨¡å‹")])])]),t._v(" "),a("h4",{attrs:{id:"jpaçš„æŠ€æœ¯"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jpaçš„æŠ€æœ¯"}},[t._v("#")]),t._v(" JPAçš„æŠ€æœ¯")]),t._v(" "),a("ul",[a("li",[a("p",[a("strong",[t._v("ORM")]),t._v(" "),a("strong",[t._v("æ˜ å°„å…ƒæ•°æ®")]),t._v("ï¼šJPA æ”¯æŒ "),a("strong",[t._v("XML")]),t._v(" "),a("strong",[t._v("å’Œ")]),t._v(" "),a("strong",[t._v("JDK 5.0")]),t._v(" "),a("strong",[t._v("æ³¨è§£")]),t._v("ä¸¤ç§å…ƒæ•°æ®çš„å½¢å¼ï¼Œå…ƒæ•°æ®æè¿°å¯¹è±¡å’Œè¡¨ä¹‹é—´çš„æ˜ å°„å…³ç³»ï¼Œæ¡†æ¶æ®æ­¤å°†å®ä½“å¯¹è±¡æŒä¹…åŒ–åˆ°æ•°æ®åº“è¡¨ä¸­ã€‚")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("JPA")]),t._v(" "),a("strong",[t._v("çš„")]),t._v(" "),a("strong",[t._v("API")]),t._v("ï¼šç”¨æ¥æ“ä½œå®ä½“å¯¹è±¡ï¼Œæ‰§è¡ŒCRUDæ“ä½œï¼Œæ¡†æ¶åœ¨åå°å®Œæˆæ‰€æœ‰çš„äº‹æƒ…ï¼Œå¼€å‘è€…ä»ç¹ççš„ JDBCå’Œ SQLä»£ç ä¸­è§£è„±å‡ºæ¥ã€‚")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("æŸ¥è¯¢è¯­è¨€ï¼ˆJPQLï¼‰")]),t._v("ï¼šè¿™æ˜¯æŒä¹…åŒ–æ“ä½œä¸­å¾ˆé‡è¦çš„ä¸€ä¸ªæ–¹é¢ï¼Œé€šè¿‡é¢å‘å¯¹è±¡è€Œéé¢å‘æ•°æ®åº“çš„æŸ¥è¯¢è¯­è¨€æŸ¥è¯¢æ•°æ®ï¼Œé¿å…ç¨‹åºå’Œå…·ä½“çš„  SQL ç´§å¯†è€¦åˆã€‚")])])]),t._v(" "),a("h3",{attrs:{id:"ä½¿ç”¨jpaæŒä¹…åŒ–å¯¹è±¡çš„æ­¥éª¤"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨jpaæŒä¹…åŒ–å¯¹è±¡çš„æ­¥éª¤"}},[t._v("#")]),t._v(" ä½¿ç”¨JPAæŒä¹…åŒ–å¯¹è±¡çš„æ­¥éª¤")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("åˆ›å»º")]),t._v(" "),a("strong",[t._v("persistence.xml")]),t._v(", **åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­é…ç½®æŒä¹…åŒ–å•å…ƒ\n"),a("ul",[a("li",[t._v("éœ€è¦æŒ‡å®šè·Ÿå“ªä¸ªæ•°æ®åº“è¿›è¡Œäº¤äº’;")]),t._v(" "),a("li",[t._v("éœ€è¦æŒ‡å®š JPA ä½¿ç”¨å“ªä¸ªæŒä¹…åŒ–çš„æ¡†æ¶ä»¥åŠé…ç½®è¯¥æ¡†æ¶çš„åŸºæœ¬å±æ€§")])])]),t._v(" "),a("li",[t._v("åˆ›å»ºå®ä½“ç±» ä½¿ç”¨** annotationæ¥æè¿°å®ä½“ç±»è·Ÿæ•°æ®åº“è¡¨ä¹‹é—´"),a("strong",[t._v("çš„æ˜ å°„å…³ç³»")])]),t._v(" "),a("li",[a("strong",[t._v("ä½¿ç”¨")]),t._v(" "),a("strong",[t._v("JPA API")]),t._v(" "),a("strong",[t._v("å®Œæˆæ•°æ®å¢åŠ ã€åˆ é™¤ã€ä¿®æ”¹å’ŒæŸ¥è¯¢æ“ä½œ")])]),t._v(" "),a("li",[t._v("åˆ›å»º "),a("strong",[t._v("EntityManagerFactory")]),t._v(" (å¯¹åº” Hibernate ä¸­çš„ SessionFactory);")]),t._v(" "),a("li",[t._v("åˆ›å»º "),a("strong",[t._v("EntityManager")]),t._v(" (å¯¹åº” Hibernate ä¸­çš„Session);")])]),t._v(" "),a("h3",{attrs:{id:"jpaæ³¨è§£"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jpaæ³¨è§£"}},[t._v("#")]),t._v(" JPAæ³¨è§£")]),t._v(" "),a("h4",{attrs:{id:"entity"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#entity"}},[t._v("#")]),t._v(" @Entity")]),t._v(" "),a("p",[t._v("æ ‡æ³¨ç”¨äºå®ä½“ç±»å£°æ˜è¯­å¥ä¹‹å‰ï¼Œ"),a("strong",[t._v("æŒ‡å‡ºè¯¥Javaä¸ºå®ä½“ç±»")]),t._v("ï¼Œ"),a("strong",[t._v("å°†æ˜ å°„åˆ°æŒ‡å®šçš„æ•°æ®åº“è¡¨")]),t._v("ã€‚å¦‚å£°æ˜ä¸€ä¸ªå®ä½“ç±»Customerï¼Œå®ƒå°†æ˜ å°„åˆ°æ•°æ®åº“ä¸­çš„customerè¡¨ä¸Šã€‚")]),t._v(" "),a("h4",{attrs:{id:"table"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#table"}},[t._v("#")]),t._v(" @Table")]),t._v(" "),a("p",[a("strong",[t._v("å½“å®ä½“ç±»ä¸å…¶æ˜ å°„çš„æ•°æ®åº“è¡¨åä¸åŒåæ—¶")]),t._v("éœ€è¦ä½¿ç”¨ "),a("strong",[t._v("@Table")]),t._v(" æ ‡æ³¨è¯´æ˜ï¼Œè¯¥æ ‡æ³¨"),a("strong",[t._v("ä¸")]),t._v(" "),a("strong",[t._v("@Entity")]),t._v(" "),a("strong",[t._v("æ ‡æ³¨****å¹¶åˆ—ä½¿ç”¨")]),t._v("ï¼Œç½®äºå®ä½“ç±»å£°æ˜è¯­å¥ä¹‹å‰ï¼Œå¯å†™äºå•ç‹¬è¯­å¥è¡Œï¼Œä¹Ÿå¯ä¸å£°æ˜è¯­å¥åŒè¡Œã€‚")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("@Table æ ‡æ³¨çš„å¸¸ç”¨é€‰é¡¹æ˜¯ "),a("strong",[t._v("name")]),t._v("ï¼Œç”¨äºæŒ‡æ˜æ•°æ®åº“çš„è¡¨å")])]),t._v(" "),a("li",[a("p",[t._v("@Tableé€‰é¡¹ å’Œ ç”¨äºuniqueConstraintsé€‰é¡»è®¾ç½®")])])]),t._v(" "),a("h4",{attrs:{id:"id"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#id"}},[t._v("#")]),t._v(" @Id")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("@Id æ ‡æ³¨ç”¨äºå£°æ˜ä¸€ä¸ªå®ä½“ç±»çš„å±æ€§æ˜ å°„ä¸ºæ•°æ®åº“çš„"),a("strong",[t._v("ä¸»é”®åˆ—")]),t._v("ã€‚è¯¥å±æ€§é€šå¸¸ç½®äºå±æ€§å£°æ˜è¯­å¥ä¹‹å‰ï¼Œå¯ä¸å£°æ˜è¯­å¥åŒè¡Œï¼Œä¹Ÿå¯å†™åœ¨å•ç‹¬è¡Œä¸Šã€‚")])]),t._v(" "),a("li",[a("p",[t._v("@Idæ ‡æ³¨ä¹Ÿå¯ç½®äºå±æ€§çš„"),a("strong",[t._v("getteræ–¹æ³•ä¹‹å‰")]),t._v("ã€‚")])])]),t._v(" "),a("h4",{attrs:{id:"generatedvalue"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#generatedvalue"}},[t._v("#")]),t._v(" @GeneratedValue")]),t._v(" "),a("p",[t._v("@GeneratedValue "),a("strong",[t._v("ç”¨äºæ ‡æ³¨ä¸»é”®çš„ç”Ÿæˆ")]),t._v("ç­–ç•¥**ï¼Œ**é€šè¿‡ "),a("strong",[t._v("strategy å±æ€§æŒ‡å®š")]),t._v("ã€‚**é»˜è®¤æƒ…å†µä¸‹ï¼Œ**JPAè‡ªåŠ¨é€‰æ‹©ä¸€ä¸ªæœ€é€‚åˆåº•å±‚æ•°æ®åº“çš„ä¸»é”®ç”Ÿæˆç­–ç•¥ï¼šSqlServer å¯¹åº” identityï¼ŒMySQL å¯¹åº” auto incrementã€‚")]),t._v(" "),a("p",[t._v("åœ¨ javax.persistence.GenerationType ä¸­å®šä¹‰äº†ä»¥ä¸‹å‡ ç§å¯ä¾›é€‰æ‹©çš„ç­–ç•¥ï¼š")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@GeneratedValue")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("strategy "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("GenerationType")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("AUTO"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@GeneratedValue")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("strategy "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("GenerationType")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("IDENTITY"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@GeneratedValue")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("strategy "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("GenerationType")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("SEQUENCE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@GeneratedValue")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("strategy "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("GenerationType")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("TABLE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("generator"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ID_GENDERATOR"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("ul",[a("li",[a("p",[a("strong",[t._v("IDENTITY")]),t._v("ï¼šé‡‡ç”¨æ•°æ®åº“ IDè‡ªå¢é•¿çš„æ–¹å¼æ¥è‡ªå¢ä¸»é”®å­—æ®µï¼ŒOracle ä¸æ”¯æŒè¿™ç§æ–¹å¼ï¼›")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("AUTO")]),t._v(":JPAè‡ªåŠ¨é€‰æ‹©åˆé€‚çš„ç­–ç•¥ï¼Œæ˜¯é»˜è®¤é€‰é¡¹ï¼›")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("SEQUENCE")]),t._v("ï¼šé€šè¿‡åºåˆ—äº§ç”Ÿä¸»é”®ï¼Œé€šè¿‡ "),a("strong",[t._v("@SequenceGenerator")]),t._v(" æ³¨è§£æŒ‡å®šåºåˆ—åï¼ŒMySql ä¸æ”¯æŒè¿™ç§æ–¹å¼")])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("TABLE")]),t._v("ï¼šé€šè¿‡è¡¨äº§ç”Ÿä¸»é”®ï¼Œæ¡†æ¶å€Ÿç”±è¡¨æ¨¡æ‹Ÿåºåˆ—äº§ç”Ÿä¸»é”®ï¼Œä½¿ç”¨è¯¥ç­–ç•¥å¯ä»¥ä½¿åº”ç”¨æ›´æ˜“äºç§»æ¤")])])]),t._v(" "),a("h4",{attrs:{id:"basic"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#basic"}},[t._v("#")]),t._v(" @Basic")]),t._v(" "),a("p",[t._v("@Basic è¡¨ç¤ºä¸€ä¸ªç®€å•çš„å±æ€§åˆ°æ•°æ®åº“è¡¨çš„å­—æ®µçš„æ˜ å°„,å¯¹äº"),a("strong",[t._v("æ²¡æœ‰ä»»ä½•æ ‡æ³¨çš„ getXxxx()æ–¹æ³•")]),t._v(",é»˜è®¤å³ä¸º**@Basic**")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("fetch: è¡¨ç¤ºè¯¥å±æ€§çš„è¯»å–ç­–ç•¥,æœ‰ EAGER å’Œ LAZY ä¸¤ç§,åˆ†åˆ«è¡¨ç¤ºä¸»æ”¯æŠ“å–å’Œå»¶è¿ŸåŠ è½½,é»˜è®¤ä¸º EAGER.")])]),t._v(" "),a("li",[a("p",[t._v("optional:è¡¨ç¤ºè¯¥å±æ€§æ˜¯å¦å…è®¸ä¸ºnullé»˜è®¤true")])])]),t._v(" "),a("h4",{attrs:{id:"column"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#column"}},[t._v("#")]),t._v(" @Column")]),t._v(" "),a("p",[t._v("**å½“å®ä½“çš„å±æ€§ä¸å…¶æ˜ å°„çš„æ•°æ®åº“è¡¨çš„åˆ—ä¸åŒåæ—¶éœ€è¦ä½¿ç”¨@Column **æ ‡æ³¨è¯´æ˜ï¼Œè¯¥å±æ€§é€šå¸¸ç½®äºå®ä½“çš„å±æ€§å£°æ˜è¯­å¥ä¹‹å‰ï¼Œè¿˜å¯ä¸ @Id æ ‡æ³¨ä¸€èµ·ä½¿ç”¨ã€‚")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("@Column æ ‡æ³¨çš„å¸¸ç”¨å±æ€§æ˜¯ nameï¼Œç”¨äºè®¾ç½®æ˜ å°„æ•°æ®åº“è¡¨çš„åˆ—åã€‚æ­¤å¤–ï¼Œè¯¥æ ‡æ³¨è¿˜åŒ…å«å…¶å®ƒå¤šä¸ªå±æ€§ï¼Œå¦‚ï¼š"),a("strong",[t._v("unique")]),t._v(" ã€"),a("strong",[t._v("nullable")]),t._v("ã€"),a("strong",[t._v("length")]),t._v(" ç­‰ã€‚")])]),t._v(" "),a("li",[a("p",[t._v("@Column æ ‡æ³¨çš„ columnDefinition å±æ€§: "),a("strong",[t._v("è¡¨ç¤ºè¯¥å­—æ®µåœ¨æ•°æ®åº“ä¸­çš„å®é™…ç±»å‹")]),t._v(".é€šå¸¸ ORM æ¡†æ¶å¯ä»¥æ ¹æ®å±æ€§ç±»å‹è‡ªåŠ¨åˆ¤æ–­æ•°æ®åº“ä¸­å­—æ®µçš„ç±»å‹,ä½†æ˜¯å¯¹äºDateç±»å‹ä»æ— æ³•ç¡®å®šæ•°æ®åº“ä¸­å­—æ®µç±»å‹ç©¶ç«Ÿæ˜¯DATE,TIMEè¿˜æ˜¯TIMESTAMP.æ­¤å¤–,Stringçš„é»˜è®¤æ˜ å°„ç±»å‹ä¸ºVARCHAR, å¦‚æœè¦å°† String ç±»å‹æ˜ å°„åˆ°ç‰¹å®šæ•°æ®åº“çš„ BLOB æˆ–TEXT å­—æ®µç±»å‹.")])]),t._v(" "),a("li",[a("p",[t._v("@Columnæ ‡æ³¨ä¹Ÿå¯ç½®äºå±æ€§çš„getteræ–¹æ³•ä¹‹å‰")])])]),t._v(" "),a("h4",{attrs:{id:"transient"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#transient"}},[t._v("#")]),t._v(" "),a("strong",[t._v("@Transient")])]),t._v(" "),a("p",[t._v("è¡¨ç¤ºè¯¥å±æ€§å¹¶éä¸€ä¸ªåˆ°æ•°æ®åº“è¡¨çš„å­—æ®µçš„æ˜ å°„,ORMæ¡†æ¶å°†å¿½ç•¥è¯¥å±æ€§")]),t._v(" "),a("p",[a("strong",[t._v("å¦‚æœä¸€ä¸ªå±æ€§å¹¶éæ•°æ®åº“è¡¨çš„å­—æ®µæ˜ å°„å°±åŠ¡å¿…å°†å…¶æ ‡ç¤ºä¸ºå¦åˆ™*æ¡†æ¶é»˜è®¤å…¶æ³¨è§£ä¸º@Basic")])]),t._v(" "),a("h3",{attrs:{id:"jpaä¸­çš„api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jpaä¸­çš„api"}},[t._v("#")]),t._v(" jPAä¸­çš„API:")]),t._v(" "),a("p",[a("code",[t._v("Persistence")]),t._v("  ç±»æ˜¯ç”¨äºè·å– "),a("code",[t._v("EntityManagerFactory")]),t._v(" å®ä¾‹ã€‚è¯¥ç±»åŒ…å«ä¸€ä¸ªåä¸º createEntityManagerFactory çš„ é™æ€æ–¹æ³• ã€‚")]),t._v(" "),a("p",[a("code",[t._v("createEntityManagerFactory")]),t._v(" æ–¹æ³•æœ‰å¦‚ä¸‹ä¸¤ä¸ªé‡è½½ç‰ˆæœ¬ã€‚")]),t._v(" "),a("p",[t._v("å¸¦æœ‰ä¸€ä¸ªå‚æ•°çš„æ–¹æ³•ä»¥ JPA é…ç½®æ–‡ä»¶ persistence.xml ä¸­çš„æŒä¹…åŒ–å•å…ƒåä¸ºå‚æ•°")]),t._v(" "),a("p",[a("code",[t._v("createEntityManager()ï¼šç”¨äºåˆ›å»ºå®ä½“ç®¡ç†å™¨å¯¹è±¡å®ä¾‹ã€‚")])]),t._v(" "),a("p",[a("code",[t._v("createEntityManager(Map map)ï¼šç”¨äºåˆ›å»ºå®ä½“ç®¡ç†å™¨å¯¹è±¡å®ä¾‹çš„é‡è½½æ–¹æ³•ï¼ŒMap å‚æ•°ç”¨äºæä¾›æ˜ å°„å±æ€§")])]),t._v(" "),a("p",[t._v("EntityManagerFactory æ¥å£ä¸»è¦ç”¨æ¥åˆ›å»º EntityManager å®ä¾‹ã€‚è¯¥æ¥å£çº¦å®šäº†å¦‚ä¸‹4ä¸ªæ–¹æ³•ï¼š")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("EntityManager")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createEntityManager")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("EntityManager")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createEntityManager")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Map")]),t._v(" var1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("close")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("boolean")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("isOpen")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h4",{attrs:{id:"entitymanager-çš„å±æ€§ã€‚"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#entitymanager-çš„å±æ€§ã€‚"}},[t._v("#")]),t._v(" EntityManager çš„å±æ€§ã€‚")]),t._v(" "),a("p",[a("code",[t._v("isOpen()ï¼š")]),t._v("æ£€æŸ¥ EntityManagerFactory æ˜¯å¦å¤„äºæ‰“å¼€çŠ¶æ€ã€‚å®ä½“ç®¡ç†å™¨å·¥å‚åˆ›å»ºåä¸€ç›´å¤„äºæ‰“å¼€çŠ¶æ€ï¼Œé™¤éè°ƒç”¨close()æ–¹æ³•å°†å…¶å…³é—­ã€‚")]),t._v(" "),a("p",[a("code",[t._v("close()ï¼š")]),t._v("å…³é—­ EntityManagerFactory ã€‚ EntityManagerFactory å…³é—­åå°†é‡Šæ”¾æ‰€æœ‰èµ„æºï¼ŒisOpen()æ–¹æ³•æµ‹è¯•å°†è¿”å› falseï¼Œå…¶å®ƒæ–¹æ³•å°†ä¸èƒ½è°ƒç”¨ï¼Œå¦åˆ™å°†å¯¼è‡´IllegalStateExceptionå¼‚å¸¸ã€‚")]),t._v(" "),a("p",[t._v("EntityManager æ˜¯å®ŒæˆæŒä¹…åŒ–æ“ä½œçš„æ ¸å¿ƒå¯¹è±¡ã€‚å®ä½“ä½œä¸ºæ™®é€š Java å¯¹è±¡ï¼Œåªæœ‰åœ¨è°ƒç”¨ EntityManager å°†å…¶æŒä¹…åŒ–åæ‰ä¼šå˜æˆæŒä¹…åŒ–å¯¹è±¡ã€‚EntityManager å¯¹è±¡åœ¨ä¸€ç»„å®ä½“ç±»ä¸åº•å±‚æ•°æ®æºä¹‹é—´è¿›è¡Œ O/R æ˜ å°„çš„ç®¡ç†ã€‚å®ƒå¯ä»¥ç”¨æ¥ç®¡ç†å’Œæ›´æ–° Entity Bean, æ ¹æ¤ä¸»é”®æŸ¥æ‰¾ Entity Bean, è¿˜å¯ä»¥é€šè¿‡JPQLè¯­å¥æŸ¥è¯¢å®ä½“ã€‚")]),t._v(" "),a("p",[a("code",[t._v("persist (Object entity)ï¼š")]),t._v("ç”¨äºå°†æ–°åˆ›å»ºçš„ Entity çº³å…¥åˆ° EntityManager çš„ç®¡ç†ã€‚è¯¥æ–¹æ³•æ‰§è¡Œåï¼Œä¼ å…¥ persist() æ–¹æ³•çš„ Entity å¯¹è±¡è½¬æ¢æˆæŒä¹…åŒ–çŠ¶æ€ã€‚")]),t._v(" "),a("p",[a("code",[t._v("remove (Object entity)ï¼š")]),t._v("åˆ é™¤å®ä¾‹ã€‚å¦‚æœå®ä¾‹æ˜¯è¢«ç®¡ç†çš„ï¼Œå³ä¸æ•°æ®åº“å®ä½“è®°å½•å…³è”ï¼Œåˆ™åŒæ—¶ä¼šåˆ é™¤å…³è”çš„æ•°æ®åº“è®°å½•")]),t._v(" "),a("p",[a("code",[t._v("flush ()ï¼š")]),t._v("åŒæ­¥æŒä¹…ä¸Šä¸‹æ–‡ç¯å¢ƒï¼Œå³å°†æŒä¹…ä¸Šä¸‹æ–‡ç¯å¢ƒçš„æ‰€æœ‰æœªä¿å­˜å®ä½“çš„çŠ¶æ€ä¿¡æ¯ä¿å­˜åˆ°æ•°æ®åº“ä¸­ã€‚")]),t._v(" "),a("p",[a("code",[t._v("setFlushMode (FlushModeType flushMode)ï¼š")]),t._v("è®¾ç½®æŒä¹…ä¸Šä¸‹æ–‡ç¯å¢ƒçš„Flushæ¨¡å¼ã€‚å‚æ•°å¯ä»¥å–2ä¸ªæšä¸¾")]),t._v(" "),a("p",[a("code",[t._v("FlushModeType.AUTO ä¸ºè‡ªåŠ¨æ›´æ–°æ•°æ®åº“å®ä½“ï¼Œ")])]),t._v(" "),a("p",[a("code",[t._v("â€‹FlushModeType.COMMIT ä¸ºç›´åˆ°æäº¤äº‹åŠ¡æ—¶æ‰æ›´æ–°æ•°æ®åº“è®°å½•ã€‚")])]),t._v(" "),a("p",[a("code",[t._v("getFlushMode ()ï¼š")]),t._v("è·å–æŒä¹…ä¸Šä¸‹æ–‡ç¯å¢ƒçš„Flushæ¨¡å¼ã€‚è¿”å›FlushModeTypeç±»çš„æšä¸¾å€¼ã€‚")]),t._v(" "),a("p",[a("code",[t._v("refresh (Object entity)ï¼š")]),t._v("ç”¨æ•°æ®åº“å®ä½“è®°å½•çš„å€¼æ›´æ–°å®ä½“å¯¹è±¡çš„çŠ¶æ€ï¼Œå³æ›´æ–°å®ä¾‹çš„å±æ€§å€¼ã€‚")]),t._v(" "),a("p",[a("code",[t._v("clear ()ï¼š")]),t._v("æ¸…é™¤æŒä¹…ä¸Šä¸‹æ–‡ç¯å¢ƒï¼Œæ–­å¼€æ‰€æœ‰å…³è”çš„å®ä½“ã€‚å¦‚æœè¿™æ—¶è¿˜æœ‰æœªæäº¤çš„æ›´æ–°åˆ™ä¼šè¢«æ’¤æ¶ˆã€‚")]),t._v(" "),a("p",[a("code",[t._v("contains (Object entity)ï¼š")]),t._v("åˆ¤æ–­ä¸€ä¸ªå®ä¾‹æ˜¯å¦å±äºå½“å‰æŒä¹…ä¸Šä¸‹æ–‡ç¯å¢ƒç®¡ç†çš„å®ä½“ã€‚")]),t._v(" "),a("p",[a("code",[t._v("isOpen ()ï¼š")]),t._v("åˆ¤æ–­å½“å‰çš„å®ä½“ç®¡ç†å™¨æ˜¯å¦æ˜¯æ‰“å¼€çŠ¶æ€ã€‚")]),t._v(" "),a("p",[a("code",[t._v("getTransaction ()ï¼š")]),t._v("è¿”å›èµ„æºå±‚çš„äº‹åŠ¡å¯¹è±¡ã€‚EntityTransactionå®ä¾‹å¯ä»¥ç”¨äºå¼€å§‹å’Œæäº¤å¤šä¸ªäº‹åŠ¡ã€‚")]),t._v(" "),a("p",[a("code",[t._v("close ()ï¼š")]),t._v("å…³é—­å®ä½“ç®¡ç†å™¨ã€‚ä¹‹åè‹¥è°ƒç”¨å®ä½“ç®¡ç†å™¨å®ä¾‹çš„æ–¹æ³•æˆ–å…¶æ´¾ç”Ÿçš„æŸ¥è¯¢å¯¹è±¡çš„æ–¹æ³•éƒ½å°†æŠ›å‡º IllegalstateException å¼‚å¸¸ï¼Œé™¤äº†getTransaction å’Œ isOpenæ–¹æ³•(è¿”å› false)ã€‚ä¸è¿‡ï¼Œå½“ä¸å®ä½“ç®¡ç†å™¨å…³è”çš„äº‹åŠ¡å¤„äºæ´»åŠ¨çŠ¶æ€æ—¶ï¼Œè°ƒç”¨ close æ–¹æ³•åæŒä¹…ä¸Šä¸‹æ–‡å°†ä»å¤„äºè¢«ç®¡ç†çŠ¶æ€ï¼Œç›´åˆ°äº‹åŠ¡å®Œæˆã€‚")]),t._v(" "),a("p",[a("code",[t._v("createQuery (String qlString)ï¼š")]),t._v("åˆ›å»ºä¸€ä¸ªæŸ¥è¯¢å¯¹è±¡ã€‚")]),t._v(" "),a("p",[a("code",[t._v("createNamedQuery (String name)ï¼š")]),t._v("æ ¹æ®å‘½åçš„æŸ¥è¯¢è¯­å¥å—åˆ›å»ºæŸ¥è¯¢å¯¹è±¡ã€‚å‚æ•°ä¸ºå‘½åçš„æŸ¥è¯¢è¯­å¥ã€‚")]),t._v(" "),a("p",[a("code",[t._v("createNativeQuery (String sqlString)")]),t._v("ï¼šä½¿ç”¨æ ‡å‡† SQLè¯­å¥åˆ›å»ºæŸ¥è¯¢å¯¹è±¡ã€‚å‚æ•°ä¸ºæ ‡å‡†SQLè¯­å¥å­—ç¬¦ä¸²ã€‚")]),t._v(" "),a("p",[a("code",[t._v("createNativeQuery (String sqls, String resultSetMapping)ï¼š")]),t._v("ä½¿ç”¨æ ‡å‡†SQLè¯­å¥åˆ›å»ºæŸ¥è¯¢å¯¹è±¡ï¼Œå¹¶æŒ‡å®šè¿”å›ç»“æœé›† Mapçš„ åç§°")]),t._v(" "),a("h4",{attrs:{id:"entitytransaction-æ¥å£"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#entitytransaction-æ¥å£"}},[t._v("#")]),t._v(" EntityTransaction æ¥å£")]),t._v(" "),a("p",[t._v("ç”¨æ¥ç®¡ç†èµ„æºå±‚å®ä½“ç®¡ç†å™¨çš„äº‹åŠ¡æ“ä½œã€‚é€šè¿‡è°ƒç”¨å®ä½“ç®¡ç†å™¨çš„getTransactionæ–¹æ³• è·å¾—å…¶å®ä¾‹")]),t._v(" "),a("p",[a("code",[t._v("begin ()")]),t._v(" ç”¨äºå¯åŠ¨ä¸€ä¸ªäº‹åŠ¡ï¼Œæ­¤åçš„å¤šä¸ªæ•°æ®åº“æ“ä½œå°†ä½œä¸ºæ•´ä½“è¢«æäº¤æˆ–æ’¤æ¶ˆã€‚è‹¥è¿™æ—¶äº‹åŠ¡å·²å¯åŠ¨åˆ™ä¼šæŠ›å‡º IllegalStateException å¼‚å¸¸ã€‚")]),t._v(" "),a("p",[a("code",[t._v("commit ()")]),t._v(" ç”¨äºæäº¤å½“å‰äº‹åŠ¡ã€‚å³å°†äº‹åŠ¡å¯åŠ¨ä»¥åçš„æ‰€æœ‰æ•°æ®åº“æ›´æ–°æ“ä½œæŒä¹…åŒ–è‡³æ•°æ®åº“ä¸­")]),t._v(" "),a("p",[a("code",[t._v("rollback ()")]),t._v("  æ’¤æ¶ˆ(å›æ»š)å½“å‰äº‹åŠ¡ã€‚å³æ’¤æ¶ˆäº‹åŠ¡å¯åŠ¨åçš„æ‰€æœ‰æ•°æ®åº“æ›´æ–°æ“ä½œï¼Œä»è€Œä¸å¯¹æ•°æ®åº“äº§ç”Ÿå½±å“ã€‚")]),t._v(" "),a("p",[a("code",[t._v("setRollbackOnly ()")]),t._v(" ä½¿å½“å‰äº‹åŠ¡åªèƒ½è¢«æ’¤æ¶ˆã€‚")]),t._v(" "),a("p",[a("code",[t._v("getRollbackOnly ()")]),t._v("\tæŸ¥çœ‹å½“å‰äº‹åŠ¡æ˜¯å¦è®¾ç½®äº†åªèƒ½æ’¤æ¶ˆæ ‡å¿—ã€")]),t._v(" "),a("p",[a("code",[t._v("isActive ()")]),t._v("æŸ¥çœ‹å½“å‰äº‹åŠ¡æ˜¯å¦æ˜¯æ´»åŠ¨çš„ã€‚å¦‚æœè¿”å›trueåˆ™ä¸èƒ½è°ƒç”¨beginæ–¹æ³•ï¼Œå¦åˆ™å°†æŠ›å‡º IllegalStateException å¼‚å¸¸ï¼›å¦‚æœè¿”å› false åˆ™ä¸èƒ½è°ƒç”¨ commitã€rollbackã€setRollbackOnly åŠ getRollbackOnly æ–¹æ³•ï¼Œå¦åˆ™å°†æŠ›å‡º IllegalStateException å¼‚å¸¸")]),t._v(" "),a("h3",{attrs:{id:"æ˜ å°„å…³ç³»"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ˜ å°„å…³ç³»"}},[t._v("#")]),t._v(" æ˜ å°„å…³ç³»ï¼š")]),t._v(" "),a("h4",{attrs:{id:"åŒå‘ä¸€å¯¹å¤š"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åŒå‘ä¸€å¯¹å¤š"}},[t._v("#")]),t._v(" åŒå‘ä¸€å¯¹å¤š")]),t._v(" "),a("p",[t._v("å¿…é¡»å­˜åœ¨ä¸€ä¸ªå…³ç³»ç»´æŠ¤ç«¯ï¼Œåœ¨ JPA è§„èŒƒä¸­ï¼Œè¦æ±‚  many çš„ä¸€æ–¹ä½œä¸ºå…³ç³»çš„ç»´æŠ¤ç«¯(owner side), one çš„ä¸€æ–¹ä½œä¸ºè¢«ç»´æŠ¤ç«¯(inverse side)ã€‚")]),t._v(" "),a("p",[t._v("å¯ä»¥åœ¨ one æ–¹æŒ‡å®š @OneToMany æ³¨é‡Šå¹¶è®¾ç½® mappedBy å±æ€§ï¼Œä»¥æŒ‡å®šå®ƒæ˜¯è¿™ä¸€å…³è”ä¸­çš„è¢«ç»´æŠ¤ç«¯ï¼Œmany ä¸ºç»´æŠ¤ç«¯ã€‚")]),t._v(" "),a("p",[t._v("åœ¨ many æ–¹æŒ‡å®š @ManyToOne æ³¨é‡Šï¼Œå¹¶ä½¿ç”¨ @JoinColumn æŒ‡å®šå¤–é”®åç§°")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@OrderBy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"OREDER_NAME"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@OneToMany")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("targetEntity"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Order")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("mappedBy"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"customer"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Set")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Order")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getOrders")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" orders"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@JoinColumn")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Customer_ID"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@ManyToOne")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("targetEntity"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Customer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Customer")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getCustomer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" customer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h4",{attrs:{id:"åŒå‘ä¸€å¯¹ä¸€æ˜ å°„"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åŒå‘ä¸€å¯¹ä¸€æ˜ å°„"}},[t._v("#")]),t._v(" åŒå‘ä¸€å¯¹ä¸€æ˜ å°„ï¼š")]),t._v(" "),a("p",[t._v("â€‹\tåœ¨åŒå‘çš„ä¸€å¯¹ä¸€å…³è”ä¸­ï¼Œéœ€è¦åœ¨å…³ç³»è¢«ç»´æŠ¤ç«¯(inverse side)ä¸­çš„ @OneToOne æ³¨é‡Šä¸­æŒ‡å®š mappedByï¼Œä»¥æŒ‡å®šæ˜¯è¿™ä¸€å…³è”ä¸­çš„è¢«ç»´æŠ¤ç«¯ã€‚")]),t._v(" "),a("p",[t._v("â€‹\tåŒæ—¶éœ€è¦åœ¨å…³ç³»ç»´æŠ¤ç«¯(owner side)å»ºç«‹å¤–é”®åˆ—æŒ‡å‘å…³ç³»è¢«ç»´æŠ¤ç«¯çš„ä¸»é”®åˆ—ã€‚")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@OneToOne")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("mappedBy"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mgr"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" department "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getDept")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" dept"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@joinColumn")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MGR_Id"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("unique"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@OneToOne")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fetch"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FetchType")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("LAZY"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Manager")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getMgr")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" mgr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h4",{attrs:{id:"åŒå‘å¤šå¯¹å¤š"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åŒå‘å¤šå¯¹å¤š"}},[t._v("#")]),t._v(" åŒå‘å¤šå¯¹å¤šï¼š")]),t._v(" "),a("p",[t._v("æŒ‡å®šä¸€ä¸ªç»´æŠ¤ç«¯")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@ManyToMany")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@JoinTable")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ä¸­é—´è¡¨åç§°"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\njoinColumns"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@joinColumn")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"æœ¬ç±»çš„å¤–é”®"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\nreferencedColumnName"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"æœ¬ç±»ä¸å¤–é”®å¯¹åº”çš„ä¸»é”®"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\ninversejoinColumns"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@JoinColumn")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"å¯¹æ–¹ç±»çš„å¤–é”®"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\nreferencedColunName"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"å¯¹æ–¹ç±»ä¸å¤–é”®å¯¹åº”çš„ä¸»é”®"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Set")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Item")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getItems")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" items"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nå¦ä¸€ä¸ªç»´æŠ¤ç«¯ï¼š\n"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@ManyToMany")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("mappedBy"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),t._v(' items"'),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Set")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Category")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getCategories")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" categories"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"jpql"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jpql"}},[t._v("#")]),t._v(" JPQL:")]),t._v(" "),a("p",[t._v("JPQLè¯­è¨€ï¼Œå³ Java Persistence Query Language çš„ç®€ç§°ã€‚JPQL æ˜¯ä¸€ç§å’Œ SQL éå¸¸ç±»ä¼¼çš„ä¸­é—´æ€§å’Œå¯¹è±¡åŒ–æŸ¥è¯¢è¯­è¨€ï¼Œå®ƒæœ€ç»ˆä¼šè¢«ç¼–è¯‘æˆé’ˆå¯¹ä¸åŒåº•å±‚æ•°æ®åº“çš„ SQL æŸ¥è¯¢ï¼Œä»è€Œå±è”½ä¸åŒæ•°æ®åº“çš„å·®å¼‚ã€‚")]),t._v(" "),a("p",[t._v("JPQLè¯­è¨€çš„è¯­å¥å¯ä»¥æ˜¯ select è¯­å¥ã€update è¯­å¥æˆ–deleteè¯­å¥ï¼Œå®ƒä»¬éƒ½é€šè¿‡ Query æ¥å£å°è£…æ‰§è¡Œ")]),t._v(" "),a("h4",{attrs:{id:"queryæ¥å£"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#queryæ¥å£"}},[t._v("#")]),t._v(" Queryæ¥å£ï¼š")]),t._v(" "),a("p",[t._v("â€‹\tè°ƒç”¨EntityManagerçš„createQuery,create NamedQuery åŠ createNativeQuery æ–¹æ³•å¯ä»¥è·å¾—æŸ¥è¯¢å¯¹è±¡")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("setHint(String hintName, Object value)")]),t._v(" è®¾ç½®ä¸æŸ¥è¯¢å¯¹è±¡ç›¸å…³çš„ç‰¹å®šä¾›åº”å•†å‚æ•°æˆ–æç¤ºä¿¡æ¯ã€‚å‚æ•°ååŠå…¶å–å€¼éœ€è¦å‚è€ƒç‰¹å®š JPA å®ç°åº“æä¾›å•†çš„æ–‡æ¡£ã€‚å¦‚æœç¬¬äºŒä¸ªå‚æ•°æ— æ•ˆå°†æŠ›å‡ºIllegalArgumentExceptionå¼‚å¸¸")]),t._v(" "),a("li",[a("code",[t._v("setParameter(int position, Object value)")]),t._v(" ä¸ºæŸ¥è¯¢è¯­å¥çš„æŒ‡å®šä½ç½®å‚æ•°èµ‹å€¼ã€‚Position æŒ‡å®šå‚æ•°åºå·ï¼Œvalue ä¸ºèµ‹ç»™å‚æ•°çš„å€¼ã€‚")]),t._v(" "),a("li",[a("code",[t._v("setParameter(int position, Date d, TemporalType type)")]),t._v(" ä¸ºæŸ¥è¯¢è¯­å¥çš„æŒ‡å®šä½ç½®å‚æ•°èµ‹ Date å€¼ã€‚Position æŒ‡å®šå‚æ•°åºå·ï¼Œvalue ä¸ºèµ‹ç»™å‚æ•°çš„å€¼ï¼ŒtemporalType å– TemporalType çš„æšä¸¾å¸¸é‡ï¼ŒåŒ…æ‹¬ DATEã€TIME åŠ TIMESTAMP ä¸‰ä¸ªï¼Œç”¨äºå°† Java çš„ Date å‹å€¼ä¸´æ—¶è½¬æ¢ä¸ºæ•°æ®åº“æ”¯æŒçš„æ—¥æœŸæ—¶é—´ç±»å‹ï¼ˆjava.sql.Dateã€java.sql.TimeåŠjava.sql.Timestampï¼‰ã€‚")]),t._v(" "),a("li",[a("code",[t._v("setParameter(int position, Calendar c, TemporalType type)")]),t._v(" ä¸ºæŸ¥è¯¢è¯­å¥çš„æŒ‡å®šä½ç½®å‚æ•°èµ‹ Calenda rå€¼ã€‚position æŒ‡å®šå‚æ•°åºå·ï¼Œvalue ä¸ºèµ‹ç»™å‚æ•°çš„å€¼ï¼ŒtemporalType çš„å«ä¹‰åŠå–èˆåŒå‰ã€‚")]),t._v(" "),a("li",[a("code",[t._v("setParameter(String name, Object value)")]),t._v(" ä¸ºæŸ¥è¯¢è¯­å¥çš„æŒ‡å®šåç§°å‚æ•°èµ‹å€¼ã€‚")]),t._v(" "),a("li",[a("code",[t._v("setParameter(String name, Date d, TemporalType type)")]),t._v(" ä¸ºæŸ¥è¯¢è¯­å¥çš„æŒ‡å®šåç§°å‚æ•°èµ‹ Date å€¼ã€‚ç”¨æ³•åŒå‰ã€‚")]),t._v(" "),a("li",[a("code",[t._v("setParameter(String name, Calendar c, TemporalType type)")]),t._v(" ä¸ºæŸ¥è¯¢è¯­å¥çš„æŒ‡å®šåç§°å‚æ•°è®¾ç½®Calendarå€¼ã€‚nameä¸ºå‚æ•°åï¼Œå…¶å®ƒåŒå‰ã€‚è¯¥æ–¹æ³•è°ƒç”¨æ—¶å¦‚æœå‚æ•°ä½ç½®æˆ–å‚æ•°åä¸æ­£ç¡®ï¼Œæˆ–è€…æ‰€èµ‹çš„å‚æ•°å€¼ç±»å‹ä¸åŒ¹é…ï¼Œå°†æŠ›å‡º IllegalArgumentException å¼‚å¸¸ã€‚")])]),t._v(" "),a("h4",{attrs:{id:"è¯­å¥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è¯­å¥"}},[t._v("#")]),t._v(" è¯­å¥ï¼š")]),t._v(" "),a("p",[t._v("â€‹\tæŸ¥è¯¢æ‰€æœ‰å®ä½“çš„ JPQL æŸ¥è¯¢å­—ä¸²å¾ˆç®€å•ï¼Œä¾‹å¦‚ï¼š")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[t._v("select o from "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Order")]),t._v(" o æˆ–  select o from "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Order")]),t._v(" as o\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Query")]),t._v(" query "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" entityManager"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createQuery")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"select o from Order o"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List")]),t._v(" orders "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" query"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getResultList")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Iterator")]),t._v(" iterator "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" orders"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("iterator")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" iterator"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("hasNext")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¤„ç†Order")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("JPQLä¹Ÿæ”¯æŒåŒ…å«å‚æ•°çš„æŸ¥è¯¢ï¼Œä¾‹å¦‚ï¼š")]),t._v(" "),a("p",[a("code",[t._v("select o from Orders o where o.id = :myId")]),t._v(" "),a("code",[t._v("select o from Orders o where o.id = :myId and o.customer = :customerName")])]),t._v(" "),a("p",[t._v("æ³¨æ„ï¼šå‚æ•°åå‰å¿…é¡»å† ä»¥å†’å·(ğŸ˜ƒï¼Œæ‰§è¡ŒæŸ¥è¯¢å‰é¡»ä½¿ç”¨Query.setParameter(name, value)æ–¹æ³•ç»™å‚æ•°èµ‹å€¼ã€‚ä¹Ÿå¯ä»¥ä¸ä½¿ç”¨å‚æ•°åè€Œä½¿ç”¨å‚æ•°çš„åºå·ï¼Œä¾‹å¦‚ï¼šselect o from Order o where o.id = ?1 and o.customer = ?2\nå…¶ä¸­ ?1 ä»£è¡¨ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œ?2 ä»£è¡¨ç¬¬ä¸€ä¸ªå‚æ•°ã€‚åœ¨æ‰§è¡ŒæŸ¥è¯¢ä¹‹å‰éœ€è¦ä½¿ç”¨é‡è½½æ–¹æ³•Query.setParameter(pos, value) æä¾›å‚æ•°å€¼ã€‚")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Query")]),t._v(" query "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" entityManager"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createQuery")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"select o from Orders o where o.id = ?1 and o.customer = ?2"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nquery"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setParameter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nquery"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setParameter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"John"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List")]),t._v(" orders "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" query"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getResultList")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\ngroup byå­—å¥\n    \n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Query")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getSingleResult")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("å¾—åˆ°æŸ¥è¯¢ç»“æœã€‚ä¾‹å¦‚ï¼š\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Query")]),t._v(" query "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" entityManager"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createQuery")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n\t\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"select max(o.id) from Orders o"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),t._v(" result "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" query"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getSingleResult")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Long")]),t._v(" max "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Long")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("result"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[a("strong",[t._v("havingå­å¥ï¼š")])]),t._v(" "),a("p",[t._v("ä¾‹å¦‚ï¼Œä»¥ä¸‹è¯­å¥ç”¨äºæŸ¥è¯¢è®¢è´­æ€»æ•°å¤§äº100çš„å•†å®¶æ‰€å”®å•†å“åŠæ•°é‡ï¼š")]),t._v(" "),a("div",{staticClass:"language-sql extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sql"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("select")]),t._v(" o"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("seller"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" o"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("goodId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sum")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("o"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("amount"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" V_Orders o "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("group")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("by")]),t._v(" o"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("seller"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" o"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("goodId "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("having")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sum")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("o"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("amount"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),t._v("\n")])])]),a("p",[t._v("havingå­å¥ä¸whereå­å¥ä¸€æ ·éƒ½å¯ä»¥ä½¿ç”¨å‚æ•°ã€‚")]),t._v(" "),a("p",[a("strong",[t._v("updateè¯­å¥")])]),t._v(" "),a("p",[t._v("ç”¨äºæ‰§è¡Œæ›´æ–°ä¸»è¦å¯¹äºå•ä¸ªå®ä½“ç±»çš„æ‰¹é‡æ›´æ–°ï¼š")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[t._v("update "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Customers")]),t._v(" c set c"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("status "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'æœªå¿ä»˜'")]),t._v(" where c"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("balance "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10000")]),t._v("\t\t\t\n")])])]),a("p",[a("strong",[t._v("deleteè¯­å¥ï¼š")])]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[t._v("delete "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Customers")]),t._v(" c set c"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("status "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'æœªå¿ä»˜'")]),t._v(" where c"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("balance "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10000")]),t._v("\t\t\t\n")])])]),a("h4",{attrs:{id:"jpqlä¸­æä¾›äº†å†…ç½®çš„å‡½æ•°"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jpqlä¸­æä¾›äº†å†…ç½®çš„å‡½æ•°"}},[t._v("#")]),t._v(" JPQLä¸­æä¾›äº†å†…ç½®çš„å‡½æ•°ï¼š")]),t._v(" "),a("p",[t._v("â€‹\t"),a("code",[t._v("concat(String s1, String s2)ï¼š")]),t._v("å­—ç¬¦ä¸²åˆå¹¶/è¿æ¥å‡½æ•°ã€‚")]),t._v(" "),a("p",[t._v("â€‹\t"),a("code",[t._v("substring(String s, int start, int length)ï¼š")]),t._v("å–å­—ä¸²å‡½æ•°ã€‚")]),t._v(" "),a("p",[t._v("â€‹\t"),a("code",[t._v("trim([leading|trailing|both,] [char c,] String s)ï¼š")]),t._v("ä»å­—ç¬¦ä¸²ä¸­å»æ‰é¦–/å°¾æŒ‡å®šçš„å­—ç¬¦æˆ–ç©ºæ ¼ã€‚")]),t._v(" "),a("p",[t._v("â€‹\t"),a("code",[t._v("lower(String s)ï¼š")]),t._v("å°†å­—ç¬¦ä¸²è½¬æ¢æˆå°å†™å½¢å¼ã€‚")]),t._v(" "),a("p",[t._v("â€‹\t"),a("code",[t._v("upper(String s)ï¼š")]),t._v("å°†å­—ç¬¦ä¸²è½¬æ¢æˆå¤§å†™å½¢å¼ã€‚")]),t._v(" "),a("p",[t._v("â€‹\t"),a("code",[t._v("length(String s)ï¼š")]),t._v("æ±‚å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚")]),t._v(" "),a("p",[t._v("â€‹\t"),a("code",[t._v("locate(String s1, String s2[, int start])ï¼š")]),t._v("ä»ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­æŸ¥æ‰¾ç¬¬äºŒä¸ªå­—ç¬¦ä¸²(å­ä¸²)å‡ºç°çš„ä½ç½®ã€‚è‹¥æœªæ‰¾åˆ°åˆ™è¿”å›0ã€‚")]),t._v(" "),a("h3",{attrs:{id:"æ³¨è§£"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ³¨è§£"}},[t._v("#")]),t._v(" æ³¨è§£")]),t._v(" "),a("blockquote",[a("p",[t._v('@Table(name="jpa_customer")//ç”¨æ¥è®©å®ä½“ä¸æ•°æ®è¡¨ä¸åŒå‘½å\nä¸»é”®ï¼š\n@Idç”¨äºæ˜ å°„ä¸»é”®çš„åœ¨get()ä¹‹ä¸Š\n@GeneratedValue:ç”¨äºç”Ÿæˆä¸»é”®ç”Ÿæˆç­–ç•¥\nname="IDENTITY"é‡‡ç”¨æ•°æ®åº“IDè‡ªå¢æ–¹å¼\nname=GeneratorType.Table\n@Column(name="xxx")è¿™ä¸ªå±æ€§å¯¹åº”çš„å­—æ®µä¸ºxxx\n(length=20,nullable=false,unique="true")\n@Basic:å¦‚æœæ²¡åŠ éƒ½æ˜¯è¿™ä¸ªæ³¨è§£ï¼Œå°±æ˜¯å­—æ®µåä¸å±æ€§åç›¸åŒ')]),t._v(" "),a("p",[t._v("@TransientæŒ‡å®šä¸éœ€è¦æ˜ å°„åˆ°æ•°æ®è¡¨ä¸­çš„å±æ€§\n@Temporal(TemporalType.DATE)//æŒ‡å®šå±æ€§å¿…é¡»æ˜¯å¹´æœˆæ—¥è¿˜æ˜¯å…·ä½“åˆ°ç§’\n@Temporal(TemporalType.TIMESTAMP)")])]),t._v(" "),a("h3",{attrs:{id:"springæ•´åˆjpa-ä¸‰ç§æ–¹å¼"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#springæ•´åˆjpa-ä¸‰ç§æ–¹å¼"}},[t._v("#")]),t._v(" springæ•´åˆJPA:ä¸‰ç§æ–¹å¼ï¼š")]),t._v(" "),a("p",[t._v("â€‹")]),t._v(" "),a("ul",[a("li",[a("p",[a("code",[t._v("LocalEntityManagerFactoryBeanï¼š")]),t._v("é€‚ç”¨äºé‚£äº›ä»…ä½¿ç”¨ JPA è¿›è¡Œæ•°æ®è®¿é—®çš„é¡¹ç›®ï¼Œè¯¥ FactoryBean å°†æ ¹æ®JPA PersistenceProvider è‡ªåŠ¨æ£€æµ‹é…ç½®æ–‡ä»¶è¿›è¡Œå·¥ä½œï¼Œä¸€èˆ¬ä»â€œMETA-INF/persistence.xmlâ€è¯»å–é…ç½®ä¿¡æ¯ï¼Œè¿™ç§æ–¹å¼æœ€ç®€å•ï¼Œä½†ä¸èƒ½è®¾ç½® Spring ä¸­å®šä¹‰çš„DataSourceï¼Œä¸”ä¸æ”¯æŒ Spring ç®¡ç†çš„å…¨å±€äº‹åŠ¡")])]),t._v(" "),a("li",[a("p",[t._v("ä»JNDIä¸­è·å–ï¼šç”¨äºä» Java EE æœåŠ¡å™¨è·å–æŒ‡å®šçš„"),a("code",[t._v("EntityManagerFactory")]),t._v("ï¼Œè¿™ç§æ–¹å¼åœ¨è¿›è¡Œ Spring äº‹åŠ¡ç®¡ç†æ—¶ä¸€èˆ¬è¦ä½¿ç”¨ JTA äº‹åŠ¡ç®¡ç†")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("LocalContainerEntityManagerFactoryBean")]),t._v("ï¼šé€‚ç”¨äºæ‰€æœ‰ç¯å¢ƒçš„ FactoryBeanï¼Œèƒ½å…¨é¢æ§åˆ¶ EntityManagerFactory é…ç½®,å¦‚æŒ‡å®š Spring å®šä¹‰çš„ DataSource ç­‰ç­‰ã€‚")]),t._v(" "),a("div",{staticClass:"language-xml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[t._v("ä¸€ï¼š\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- é…ç½® JPA æä¾›è€…çš„é€‚é…å™¨ --\x3e")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("bean")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("jpaVendorAdapter"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("  \t"),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("property")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("databasePlatform"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("bean")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("com.atguigu.ssps.modules.persistence.Hibernates"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" \n              "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("factory-method")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("getDialect"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("constructor-arg")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("ref")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("dataSource"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("constructor-arg")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("bean")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("property")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("bean")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\näºŒï¼š\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- é…ç½® JPA çš„ EntityManager --\x3e")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("bean")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("entityManagerFactory"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("property")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("dataSource"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("ref")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("dataSource"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("property")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("property")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("jpaVendorAdapter"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("ref")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("jpaVendorAdapter"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("property")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("property")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("packagesToScan"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("value")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("com.atuigu.crm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("property")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("property")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("jpaProperties"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("props")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- äºŒçº§ç¼“å­˜ç›¸å…³ --\x3e")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("prop")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("key")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("hibernate.cache.region.factory_class"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n                org.hibernate.cache.ehcache.EhCacheRegionFactory"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("prop")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("prop")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("key")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("net.sf.ehcache.configurationResourceName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n                ehcache-hibernate.xml"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("prop")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- ç”Ÿæˆçš„æ•°æ®è¡¨çš„åˆ—çš„æ˜ å°„ç­–ç•¥ --\x3e")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("prop")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("key")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("hibernate.ejb.naming_strategy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n                org.hibernate.cfg.ImprovedNamingStrategy"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("prop")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- hibernate åŸºæœ¬å±æ€§ --\x3e")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("prop")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("key")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("hibernate.show_sql"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("true"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("prop")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("prop")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("key")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("hibernate.format_sql"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("true"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("prop")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("prop")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("key")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("hibernate.hbm2ddl.auto"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("update"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("prop")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("props")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("property")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("bean")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\t\t\n")])])])])]),t._v(" "),a("h4",{attrs:{id:"demo"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#demo"}},[t._v("#")]),t._v(" demo")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("package")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("com"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("leo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("jpa"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("test")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("util"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Date")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("javax"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("persistence"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("EntityManager")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("javax"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("persistence"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("EntityManagerFactory")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("javax"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("persistence"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("EntityTransaction")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("javax"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("persistence"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Persistence")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("org"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("hibernate"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Hibernate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("org"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("junit"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("After")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("org"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("junit"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Before")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("org"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("junit"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("jupiter"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("api"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Test")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("com"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("leo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("jpa"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Customer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("com"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("leo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("jpa"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Order")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("TestJPA")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("EntityManagerFactory")]),t._v(" factory"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("EntityManager")]),t._v(" manager"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("EntityTransaction")]),t._v(" transaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Before")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("intit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\tfactory"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Persistence")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createEntityManagerFactory")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"JpaDemo"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\tmanager"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("factory"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createEntityManager")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\ttransaction"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("manager"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getTransaction")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\ttransaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("begin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@After")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("destory")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\ttransaction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("commit")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\tmanager"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("close")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\tfactory"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("close")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//ç±»ä¼¼äºhibernateä¸­çš„saveOrUpdateæ–¹æ³•ï¼š")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Test")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("testMerge1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Customer")]),t._v(" customer"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Customer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\tcustomer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setAge")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"12"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\tcustomer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setEmail")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1233@163.com"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\tcustomer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setBirth")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Date")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\tcustomer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setCreateTime")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Date")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\tcustomer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setLastName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ccc"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//mangeræ˜¯ä¼šå…ˆåˆ›å»ºå‡ºæ¥ä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼ŒæŠŠä¸´æ—¶å¯¹è±¡çš„å±æ€§å¤åˆ¶åˆ°æ–°çš„å¯¹è±¡ä¸­")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//æ–°çš„å¯¹è±¡ä¸­ä¼šæœ‰idä½†æ˜¯ä»¥å‰çš„ä¸´æ—¶å¯¹è±¡ä¸­æ²¡æœ‰id;")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Customer")]),t._v(" customer2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" manager"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("merge")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("customer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n\t"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"customer#id:"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("customer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"customer2#id:"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("customer2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * ä¼ å…¥çš„æ˜¯æ¸¸ç¦»å¯¹è±¡å³æœ‰å¯¹è±¡çš„id\n * è‹¥åœ¨ç¼“å­˜ä¸­æ²¡æœ‰å¯¹è±¡\n * åœ¨æ•°æ®åº“ä¸­ä¹Ÿæ²¡æœ‰å¯¹åº”çš„è®°å½•\n * JPAä¼šåˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œç„¶åæŠŠæ¸¸ç¦»çš„å¯¹è±¡å¤åˆ¶åˆ°æ–°åˆ›å»ºçš„å¯¹è±¡\n * æ‰§è¡Œinsertå¯¹è±¡\n */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Test")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("testMerge2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Customer")]),t._v(" customer"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Customer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\tcustomer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setAge")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"12"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\tcustomer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setEmail")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"dd@163.com"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\tcustomer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setBirth")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Date")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\tcustomer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setCreateTime")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Date")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\tcustomer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setLastName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ddd"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\tcustomer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Customer")]),t._v(" customer2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" manager"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("merge")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("customer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\n\t"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"customer#id:"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("customer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"customer2#id:"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("customer2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * ä¼ å…¥çš„æ˜¯æ¸¸ç¦»å¯¹è±¡å³æœ‰å¯¹è±¡çš„id\n * è‹¥åœ¨ç¼“å­˜ä¸­æ²¡æœ‰å¯¹è±¡\n * åœ¨æ•°æ®åº“ä¸­æœ‰å¯¹åº”çš„è®°å½•\n * JPAä¼šæŸ¥è¯¢å¯¹åº”çš„è®°å½•ï¼Œç„¶åè¿”å›è¯¥è®°å½•çš„ä¸€ä¸ªå¯¹è±¡å†ç„¶åæŠŠæ¸¸ç¦»çš„å¯¹è±¡çš„å±æ€§å¤åˆ¶åˆ°æŸ¥è¯¢åˆ°çš„å¯¹è±¡ä¸­\n * æ‰§è¡Œupdate\n */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Test")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("testMerge3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Customer")]),t._v(" customer"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Customer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\tcustomer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setAge")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"12"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\tcustomer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setEmail")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"dd@163.com"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\tcustomer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setBirth")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Date")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\tcustomer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setCreateTime")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Date")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\tcustomer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setLastName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ddd"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\tcustomer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Customer")]),t._v(" customer2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" manager"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("merge")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("customer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("customer"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v("customer2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"customer#id:"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("customer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"customer2#id:"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("customer2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * ä¼ å…¥çš„æ˜¯æ¸¸ç¦»å¯¹è±¡å³æœ‰å¯¹è±¡çš„id\n * è‹¥åœ¨ç¼“å­˜ä¸­æœ‰å¯¹è±¡\n * JPAä¼šæŠŠæ¸¸ç¦»çš„å¯¹è±¡çš„å±æ€§å¤åˆ¶åˆ°ç¼“å­˜ä¸­çš„å¯¹è±¡\n * å¯¹ç¼“å­˜ä¸­çš„å¯¹è±¡æ‰§è¡Œupdate\n */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Test")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("testMerge4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Customer")]),t._v(" customer"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Customer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\tcustomer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setAge")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"12"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\tcustomer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setEmail")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"dd@163.com"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\tcustomer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setBirth")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Date")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\tcustomer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setCreateTime")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Date")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\tcustomer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setLastName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ddd"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\tcustomer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//è¿™ä¸ªæ˜¯æŸ¥è¯¢å‡ºçš„")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Customer")]),t._v(" customer2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" manager"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Customer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\tmanager"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("merge")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("customer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("customer"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v("customer2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//false")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"customer#id:"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("customer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"customer2#id:"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("customer2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//ç±»ä¼¼äºhibernateä¸­sessionçš„loadæ–¹æ³•")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Test")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getRefe")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// TODO Auto-generated method stub")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Customer")]),t._v(" customer"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("manager"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Customer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"---"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("customer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getClass")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//ç±»ä¼¼äºhibernate ä¸­çš„sessionçš„getæ–¹æ³•")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Test")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("testFind")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Customer")]),t._v(" customer"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("manager"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Customer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"---"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("customer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//ç±»ä¼¼äºhibernateä¸­çš„saveæ–¹æ³•è‹¥å¯¹è±¡ä¸­çš„æœ‰è®¾ç½®idåˆ™ä¼šå‡ºç°å¼‚å¸¸é”™è¯¶ï¼Œä¸èƒ½æ‰§è¡Œinsertæ–¹æ³•")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Test")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("testPersistence")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Customer")]),t._v(" customer"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Customer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\tcustomer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setAge")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"11"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\tcustomer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setEmail")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"12233@163.com"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\tcustomer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setBirth")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Date")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\tcustomer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setCreateTime")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Date")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\tmanager"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("persist")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("customer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("customer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//ç±»ä¼¼äºhibernateçš„deleteæ–¹æ³•ï¼ŒæŠŠå¯¹è±¡å¯¹åº”çš„è®°å½•ä»æ•°æ®åº“ä¸­ç§»é™¤")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//è¯¥æ–¹æ³•åªèƒ½ç§»é™¤æŒä¹…åŒ–çš„å¯¹è±¡ï¼Œä¸èƒ½ç§»é™¤æ¸¸ç¦»å¯¹è±¡")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("testDelete")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//è¿™æ ·ä¼šæŠ¥é”™")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//\t\tCustomer customer=new Customer();")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//\t\tHibernateä¸­å¯ä»¥è¿™æ ·ä½¿ç”¨")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//\t\tmanager.remove(customer);")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Customer")]),t._v(" customer"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("manager"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Customer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\tmanager"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("remove")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("customer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//å’Œhibernateä¸­çš„sessionçš„flushæ–¹æ³•ä¸€è‡´")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Test")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("testFlush")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Customer")]),t._v(" customer"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("manager"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Customer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("err"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("customer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\tcustomer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setLastName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"AA"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//å¼ºåˆ¶å‘é€ä¸€æ¡sqlè®©ç¼“å­˜ä¸­çš„æ•°æ®å’Œæ•°æ®åº“ä¸­çš„ä¸€è‡´")]),t._v("\n\t\tmanager"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("flush")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n\n- ä¿å­˜å¤šå¯¹ä¸€æ—¶å…ˆä¿å­˜1çš„ä¸€ç«¯åä¿å­˜å¤šçš„ä¸€ç«¯ï¼Œè¿™æ ·ä¸ä¼šå¤šå‡ºé¢å¤–çš„Updateè¯­å¥\n*/")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("testManyToOne")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Customer")]),t._v(" customer"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Customer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\tcustomer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setAge")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"11"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\tcustomer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setEmail")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"12233@163.com"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\tcustomer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setBirth")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Date")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\tcustomer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setCreateTime")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Date")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Order")]),t._v(" order"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Order")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\torder"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setOrderName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"O_F_1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Order")]),t._v(" order2"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Order")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\torder2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setOrderName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"O_F_2"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//è®¾ç½®å…³è”å…³ç³»")]),t._v("\n\torder"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setCustomer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("customer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\torder2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setCustomer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("customer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//æ‰§è¡Œä¿å­˜")]),t._v("\n\tmanager"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("persist")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("customer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\tmanager"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("persist")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("order"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\tmanager"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("persist")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("order2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//ä¸èƒ½ç›´æ¥åˆ é™¤1çš„ä¸€ç«¯ï¼Œå› ä¸ºæœ‰å¤–é”®çº¦æŸ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//åªèƒ½åˆ é™¤å¤šçš„ä¸€æ–¹")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("testManyToOnewRemove")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//\t\tOrder order=manager.find(Order.class, 1);")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//\t\tmanager.remove(order);")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Customer")]),t._v(" customer "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("manager"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Customer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\tmanager"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("remove")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("customer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n  - é»˜è®¤æƒ…å†µä¸‹ä½¿ç”¨å·¦å¤–è¿æ¥æ¥è·å–nçš„ä¸€æ–¹çš„å¯¹è±¡å’Œå…¶å…³è”çš„1çš„ä¸€æ–¹å¯¹è±¡\n  - å¯ä»¥ä½¿ç”¨@ManyToOne çš„fetchå±æ€§æ¥ä¿®æ”¹é»˜è®¤çš„å…³è”å±æ€§çš„åŠ è½½æµ‹ç•¥\n*/")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("testManyToOneFind")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Order")]),t._v(" order"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("manager"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("find")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Order")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("order"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getOrderName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("order"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getCustomer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getLastName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);